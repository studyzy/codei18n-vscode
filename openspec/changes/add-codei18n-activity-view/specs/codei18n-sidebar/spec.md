# CodeI18n 侧边栏视图与本地化模式

## 新增需求

### 需求：在 VS Code 活动栏新增 CodeI18n 视图入口
该需求规定扩展必须在 VS Code 活动栏中提供一个 CodeI18n 图标和视图容器，用户点击后必须能够在侧边栏打开 CodeI18n 专用视图。
#### 场景：
- 开发者已安装 CodeI18n 扩展，希望有一个统一入口查看和操作与本地化相关的功能，而不是只在编辑器中通过装饰被动感知。
- 开发者在切换项目时，希望快速确认当前项目是否已初始化 CodeI18n 配置，并能从同一位置执行相关操作。

### 需求：在 CodeI18n 视图中提供“初始化本项目”操作
该需求规定扩展必须在 CodeI18n 视图中提供一个可点击的“初始化本项目”操作入口，用于在当前工作区内完成 CodeI18n 初始化。
#### 场景：
- 开发者在一个尚未配置 CodeI18n 的项目中打开 VS Code，希望通过侧边栏一键完成必要的初始化（例如生成 `.codei18n` 目录和配置文件），而无需记忆命令行参数。
- 开发者在新克隆的仓库中，希望快速确认并补齐 CodeI18n 所需的最低配置。

### 需求：支持“显示本地化”与“文件内容本地化”两种本地化方式
该需求规定扩展必须显式区分“显示本地化”和“文件内容本地化”两种模式，并且必须在 CodeI18n 视图中可视化当前模式。
#### 场景：
- 开发者只想在阅读阶段临时看到中文注释，不希望改动实际文件内容，此时希望明确选择“显示本地化”模式，并在侧边栏中看到当前模式状态。
- 开发者准备将项目正式本地化，打算让源码中的注释永久变为目标语言，此时希望通过侧边栏选择“文件内容本地化”模式，并获得清晰的风险提示。

### 需求：提供执行“文件内容本地化”的一键操作
该需求规定扩展必须在 CodeI18n 视图中提供一个明确的“执行文件内容本地化”操作，用于触发 `codei18n convert` 对当前工作区进行批量本地化。
#### 场景：
- 开发者在确认当前项目已初始化并完成备份/提交后，希望通过一次点击触发 `codei18n convert -to <目标语言> -d <工作区>`，将项目中的注释批量转换为中文。
- 在执行过程中，希望在 VS Code 内看到进度/结果信息（例如成功/失败提示），而不需要切换到终端查看输出。

### 需求：提供将源码注释恢复为英文的“英文化”操作
该需求规定扩展必须提供一个“英文化”操作入口，用于调用 `codei18n convert` 将已经本地化的注释恢复为英文。
#### 场景：
- 项目此前进行了中文本地化，但由于协作或开源要求，需要将源码注释恢复为英文，开发者希望在侧边栏中通过“英文化”按钮一键触发相应的 `codei18n convert` 操作。
- 开发者在尝试本地化效果后，希望快速回滚到英文注释状态，以便对比或提交前审查。

### 需求：对会修改源码的操作提供明确的确认与安全防护
该需求规定扩展必须对所有会修改源码内容的操作（例如文件内容本地化、英文化）在执行前弹出确认提示，并且必须在界面中强调风险。
#### 场景：
- 开发者误点了“文件内容本地化”或“英文化”按钮，如果没有任何确认，可能导致大量源码注释被意外改写，且难以恢复。
- 在团队开发环境中，一些成员对 CodeI18n 不熟悉，希望在执行危险操作前看到清晰的风险提示，例如提醒先进行 git 提交或备份。